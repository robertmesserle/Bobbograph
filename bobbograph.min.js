/* Bobbograph v2.0.0 by Robert Messerle - http://github.com/robertmesserle/Bobbograph.git */
!function(root){var Canvas;Canvas=function(){function t(){}return t.prototype.scaleX=function(t){return this.options.padding.left+t},t.prototype.scaleY=function(t){return this.options.usableHeight-t+this.options.padding.top},t.prototype.begin=function(){return this["continue"]=!1,this.context.beginPath()},t.prototype.close=function(){return this.context.closePath(),this["continue"]=!1},t.prototype.line=function(t){var n,i;return n=this.scaleX(t.x),i=this.scaleY(t.y),this["continue"]?this.context.lineTo(n,i):(this.context.moveTo(n,i),this["continue"]=!0)},t.prototype.arc=function(t,n,i,e,o){var r,s;return r=this.scaleX(t.x),s=this.scaleY(t.y),this.context.arc(r,s,n,-i,-e,o)},t.prototype.stroke=function(t){return t&&(this.context.strokeStyle=t),this.context.stroke()},t.prototype.fill=function(t){return t&&(this.context.fillStyle=t),this.context.fill()},t}();var Animator;Animator=function(){function t(){}return t}();var Bobbograph;Bobbograph=function(){function t(t,n,i){this.element=document.getElementById(t),this.options=new Options(i),this.context=this.getContext(this.element),this.data=new Data(n,this.options),this.options.line.smooth?new CurvedRender(this.data.pixels,this.context,this.options):new LinearRender(this.data.points,this.context,this.options),this.xAxis=new XAxis(this.options.xAxis,this.element,this.options)}return t.prototype.getContext=function(t){var n,i;return n=document.createElement("canvas"),n.setAttribute("height",this.options.height),n.setAttribute("width",this.options.width),t.appendChild(n),i=n.getContext("2d")},t}();var CurvedRender,__hasProp={}.hasOwnProperty,__extends=function(t,n){function i(){this.constructor=t}for(var e in n)__hasProp.call(n,e)&&(t[e]=n[e]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};CurvedRender=function(t){function n(t,n,i){this.pixels=t,this.context=n,this.options=i,this.renderSolid(this.pixels,this.options.line.width,this.options.line.color)}return __extends(n,t),n.prototype.renderLine=function(t,n,i){var e,o,r,s,h,a,p;for(p=[],e=h=0,a=t.length;a>h;e=++h)r=t[e],s=t[e-1],o=t[e+1],p.push(this.line(r.offsetPoint(s,o,n,i)));return p},n.prototype.renderCap=function(t,n,i){var e;return e=Math.PI/2,n?this.arc(t,i,e,-e):this.arc(t,i,-e,e)},n.prototype.renderSolid=function(t,n,i){var e,o;return o=n/2,e=Math.PI/2,this.begin(),this.renderLine(t,o,e),this.renderCap(t[t.length-1],!0,o),this.renderLine(t.slice().reverse(),o,e),this.renderCap(t[0],!1,o),this.close(),this.fill(i)},n}(Canvas);var Data;Data=function(){function t(t,n){this.options=n,this.data=this.formatData(t),this.stats=new Stats(this.data),this.points=this.getPoints(this.data,this.options,this.stats),this.pixels=this.getPixels(this.points,this.options.usableWidth,this.options.line.smooth)}return t.prototype.scalePoint=function(t,n,i,e){var o,r,s;return s=t-n,o=s/i,r=o*e},t.prototype.getPoints=function(t,n,i){var e,o,r,s,h,a,p,u,l,c,g,f;for(h=n.usableWidth,s=n.usableHeight,p=i.xmin,l=i.ymin,e=i.dx,o=i.dy,f=[],c=0,g=t.length;g>c;c++)r=t[c],a=this.scalePoint(r.x,p,e,h),u=this.scalePoint(r.y,l,o,s),f.push(new Point(a,u));return f},t.prototype.sortMethod=function(t,n){return t.x-n.x},t.prototype.formatData=function(t){var n,i,e,o,r,s;if("number"==typeof t[0]){for(s=[],n=o=0,r=t.length;r>o;n=++o)e=t[n],s.push(new Point(n,e));return s}return t[0]instanceof Array?(i=function(){var i,o,r;for(r=[],n=i=0,o=t.length;o>i;n=++i)e=t[n],r.push(new Point(e[0],e[1]));return r}(),i.sort(sortMethod)):t[0]&&null!=t[0].x&&null!=t[0].y?(i=function(){var i,o,r;for(r=[],n=i=0,o=t.length;o>i;n=++i)e=t[n],r.push(new Point(e.x,e.y));return r}(),i.sort(sortMethod)):void 0},t.prototype.getPixels=function(t,n,i){var e,o,r,s,h,a,p,u,l,c;for(r=i?Easing.curve:Easing.linear,s=new Array(n),a=0,u=t.length;u>a;a++){if(h=t[a],"undefined"!=typeof o&&null!==o)for(e=p=l=Math.round(o.x),c=Math.round(h.x);c>=l?c>=p:p>=c;e=c>=l?++p:--p)s[e]=new Point(e,r(e-o.x,o.y,h.y-o.y,h.x-o.x));o=h}return s},t}();var Easing;Easing=function(){function t(){}return t.curve=function(t,n,i,e){return(t/=e/2)<1?i/2*Math.pow(t,2)+n:-i/2*((t-1)*(t-3)-1)+n},t.linear=function(t,n,i,e){return i*t/e+n},t}();var LinearRender,__hasProp={}.hasOwnProperty,__extends=function(t,n){function i(){this.constructor=t}for(var e in n)__hasProp.call(n,e)&&(t[e]=n[e]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};LinearRender=function(t){function n(t,n,i){this.points=t,this.context=n,this.options=i,this.renderSolid(this.points,this.options.line.width,this.options.line.color)}return __extends(n,t),n.prototype.getSegments=function(t,n){var i,e,o,r;for(r=[],i=e=1,o=t.length-1;o>=1?o>=e:e>=o;i=o>=1?++e:--e)r.push(new Segment(t[i-1],t[i],n));return r},n.prototype.renderLine=function(t,n){var i,e,o,r,s,h,a,p,u,l,c,g;for(a=this.getSegments(t,n),i=p=0,l=a.length;l>p;i=++p)h=a[i],e=a[i+1],i||this.line(h.corner1),e?h.angle>e.angle?(this.line(h.corner2),this.arc(e.p1,n,h.topAngle,e.topAngle)):(r=new Segment(h.corner1,h.corner2,0),s=new Segment(e.corner1,e.corner2,0),this.line(r.intersects(s))):this.arc(h.p2,n,h.topAngle,h.bottomAngle);for(o=a.slice().reverse(),g=[],i=u=0,c=o.length;c>u;i=++u)h=o[i],e=o[i+1],e?h.angle>e.angle?(this.line(h.corner4),g.push(this.arc(e.p2,n,h.bottomAngle,e.bottomAngle))):(r=new Segment(h.corner3,h.corner4,0),s=new Segment(e.corner3,e.corner4,0),g.push(this.line(r.intersects(s)))):g.push(this.arc(h.p1,n,h.bottomAngle,h.topAngle));return g},n.prototype.renderSolid=function(t,n,i){var e;return e=n/2,this.begin(),this.renderLine(t,e,!0),this.close(),this.fill(i)},n}(Canvas);var Options;Options=function(){function t(t){var n,i;null==t&&(t={});for(n in t)i=t[n],this[n]=i;this.line=new LineOptions(this.line),this.padding=new PaddingOptions(this.padding,this.line.width),this.xAxis=new AxisLineOptions(this.xAxis),this.yAxis=new AxisLineOptions(this.yAxis),this.usableWidth=this.width-this.padding.left-this.padding.right,this.usableHeight=this.height-this.padding.top-this.padding.bottom}return t.prototype.height=300,t.prototype.width=600,t}();var Point;Point=function(){function t(t,n){this.x=t,this.y=n}return t.prototype.getAngle=function(t){var n,i,e;return e=t.x>this.x?[this,t]:[t,this],n=e[0],i=e[1],Trig.getAngleFromPoints(n,i)},t.prototype.offsetPoint=function(t,n,i,e){var o,r,s;return null==t&&(t=this),null==n&&(n=this),o=Trig.getAngleFromPoints(t,n),r=o+e,s=Trig.getPointFromAngle(this,r,i)},t}();var Segment;Segment=function(){function t(t,n,i){this.p1=t,this.p2=n,this.offset=i,this.angle=this.reduceAngle(Trig.getAngleFromPoints(this.p1,this.p2)),this.slope=(this.p2.y-this.p1.y)/(this.p2.x-this.p1.x),this.yint=this.p1.y-this.slope*this.p1.x,this.topAngle=this.angle+Trig.rad(90),this.bottomAngle=this.angle-Trig.rad(90),this.corner1=Trig.getPointFromAngle(this.p1,this.topAngle,this.offset),this.corner2=Trig.getPointFromAngle(this.p2,this.topAngle,this.offset),this.corner3=Trig.getPointFromAngle(this.p2,this.bottomAngle,this.offset),this.corner4=Trig.getPointFromAngle(this.p1,this.bottomAngle,this.offset)}return t.prototype.reduceAngle=function(t){for(;t>Math.PI;)t-=2*Math.PI;return t},t.prototype.intersects=function(t){var n,i;return n=(t.yint-this.yint)/(this.slope-t.slope),i=this.slope*n+this.yint,new Point(n,i)},t}();var Stats;Stats=function(){function t(t){this.getRangeData(t)}return t.prototype.getRangeData=function(t){var n,i,e;return i=function(){var i,e,o;for(o=[],i=0,e=t.length;e>i;i++)n=t[i],o.push(n.x);return o}(),e=function(){var i,e,o;for(o=[],i=0,e=t.length;e>i;i++)n=t[i],o.push(n.y);return o}(),this.xmin=Math.min.apply(null,i),this.xmax=Math.max.apply(null,i),this.ymin=Math.min.apply(null,e),this.ymax=Math.max.apply(null,e),this.dx=this.xmax-this.xmin,this.dy=this.ymax-this.ymin},t}();var Trig;Trig=function(){function t(){}return t.rad=function(t){return t*Math.PI/180},t.deg=function(t){return 180*t/Math.PI},t.getBaseAngleFromPoints=function(t,n){var i;return i=Math.atan(n/t),Math.abs(i)},t.getQuadrant=function(t,n){return n>=0?t>=0?1:2:0>t?3:4},t.getAngleFromPoints=function(t,n){var i,e,o;switch(e=n.x-t.x,o=n.y-t.y,i=this.getBaseAngleFromPoints(e,o),this.getQuadrant(e,o)){case 1:return i;case 2:return Math.PI-i;case 3:return Math.PI+i;case 4:return 2*Math.PI-i}},t.getDistanceBetweenPoints=function(t,n){var i,e,o;return e=n.x-t.x,o=n.y-t.y,i=Math.sqrtdx*e+o*o},t.getPointFromAngle=function(t,n,i){var e,o;return e=t.x,o=t.y,n===Math.PI?new Point(e-i,o):n===Math.PI/2?new Point(e,o+i):n===1.5*Math.PI?new Point(e,o-i):0===n?new Point(e+i,o):new Point(Math.cos(n)*i+e,Math.sin(n)*i+o)},t}();var Util;Util=function(){function t(){}return t.excanvas="undefined"!=typeof G_vmlCanvasManager,t.getProperty=function(t,n,i){var e,o,r,s;if(null==t)return i;for(s=n.split("."),o=0,r=s.length;r>o;o++)if(e=s[o],t=t[e],null==t)return i;return t},t.minMax=function(t,n,i){return t>i?i:n>t?n:t},t}();var XAxis;XAxis=function(){function t(t,n,i){this.axis=t,this.wrapper=n,this.options=i}return t}();var AxisLineOptions;AxisLineOptions=function(){function t(t){var n,i;null==t&&(t={});for(n in t)i=t[n],this[n]=i}return t.prototype.increment=0,t}();var LineOptions;LineOptions=function(){function t(t){var n,i;null==t&&(t={});for(n in t)i=t[n],this[n]=i}return t.prototype.width=1,t.prototype.color="#000",t.prototype.smooth=!1,t}();var PaddingOptions;PaddingOptions=function(){function t(t,n){null==t&&(t={}),null==n&&(n=0),this.size=t.size||n,this.x=t.x||this.size,this.top=t.top||this.x,this.bottom=t.top||this.x,this.y=t.y||this.size,this.left=t.left||this.y,this.right=t.right||this.y}return t.prototype.top=null,t.prototype.bottom=null,t.prototype.left=null,t.prototype.right=null,t.prototype.x=null,t.prototype.y=null,t}(),root.spec=function(str){return eval(str)},root.Bobbograph=Bobbograph}(this);